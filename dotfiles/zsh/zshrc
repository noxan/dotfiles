autoload -Uz colors && colors

# Git info
autoload -Uz vcs_info
precmd_vcs_info() { vcs_info }
precmd_functions+=( precmd_vcs_info )

setopt prompt_subst
zstyle ':vcs_info:git:*' formats '%b'

PROMPT="%{$fg_no_bold[yellow]%}%~ %{$reset_color%}%# "
RPROMPT="%{$fg[magenta]%}\$vcs_info_msg_0_%{$reset_color%} [%{$fg_no_bold[yellow]%}%?%{$reset_color%}]"

# Directory colors
export CLICOLOR=1
export LS_COLORS=exfxcxdxbxegedabagacad

# Autocompletion
autoload -Uz compinit && compinit

# Editor
export EDITOR=nvim
export VISUAL=nvim

# Alias
alias vim=nvim

# emacs style keybinds
bindkey -e

# vi style incremental search
bindkey '^R' history-incremental-search-backward
bindkey '^S' history-incremental-search-forward
bindkey '^P' history-search-backward
bindkey '^N' history-search-forward

# keybinds
bindkey '^A' beginning-of-line
bindkey '^E' end-of-line
bindkey '^[[3~' delete-char

# Config alias
alias zshconfig='$EDITOR ~/.zshrc'
alias gitconfig='$EDITOR ~/.gitconfig'

# Better ls
alias ls='ls -FH'
alias ll='ls -lFH'

# Egrep find
f () { egrep -r --color -nr $@; }

# Alias
alias s='cd $HOME/workspace'

# Completion
zstyle ':completion:*' menu select

# History, adopted from oh-my-zsh
HISTFILE=$HOME/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt append_history
setopt extended_history
setopt hist_expire_dups_first
setopt hist_ignore_dups # ignore duplication command history list
setopt hist_ignore_space
setopt hist_verify
setopt inc_append_history
setopt share_history # share command history data

# Beep
setopt nobeep

# Z
source `brew --prefix`/etc/profile.d/z.sh

# Autosuggestions (like fish)
# export ZSH_AUTOSUGGEST_STRATEGY='match_prev_cmd'
# source ~/.dotfiles/dotfiles/zsh/zsh-autosuggestions/zsh-autosuggestions.zsh
# Syntax highlight (like fish)
source ~/.dotfiles/dotfiles/zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
